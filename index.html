<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="stylesheet" href="/src/styles.css" />
    <title>NimboRush</title>
  </head>
  <body class="m-0 flex justify-center items-center min-h-screen bg-black font-mono">
    <!-- Start Screen -->
    <div id="start-overlay" class="fixed inset-0 bg-black z-[1000] flex justify-center items-center">
      <div class="arcade-container text-center">
        <!-- Scanlines overlay -->
        <div class="scanlines"></div>

        <!-- Title with glow effect -->
        <div class="arcade-title">NIMBORUSH</div>
        <div class="arcade-subtitle">- A CLOUD PUZZLE ADVENTURE -</div>

        <!-- Menu items -->
        <div class="arcade-menu">
          <div class="arcade-menu-item selected" data-action="start">
            <span class="menu-arrow">▶</span> START GAME
          </div>
          <div class="arcade-menu-item" data-action="controls">
            <span class="menu-arrow">▶</span> CONTROLS
          </div>
        </div>

        <!-- Controls panel (hidden by default) -->
        <div id="controls-panel" class="arcade-controls hidden">
          <div class="control-row">
            <span class="arcade-key">↑</span>
            <span class="arcade-key">↓</span>
            <span class="arcade-key">←</span>
            <span class="arcade-key">→</span>
            <span class="control-label">MOVE</span>
          </div>
          <div class="control-row">
            <span class="arcade-key">P</span>
            <span class="control-label">PAUSE</span>
          </div>
          <div class="control-row">
            <span class="arcade-key">R</span>
            <span class="control-label">RESTART</span>
          </div>
        </div>

        <!-- Bottom instructions -->
        <div class="arcade-footer">
          <span>PRESS</span>
          <span class="arcade-key-inline">↑</span>
          <span class="arcade-key-inline">↓</span>
          <span>TO SELECT</span>
          <span class="arcade-key-inline">ENTER</span>
          <span>TO CONFIRM</span>
        </div>
      </div>
    </div>

    <!-- Message Overlay (win/game over) -->
    <div id="message-overlay" class="hidden fixed inset-0 bg-black/90 z-[1000] justify-center items-center">
      <div class="arcade-panel">
        <div class="scanlines"></div>
        <div class="message-title" id="message-title"></div>
        <div id="message-subtitle"></div>
      </div>
    </div>

    <!-- Pause Overlay -->
    <div id="pause-overlay" class="hidden fixed inset-0 bg-black/90 z-[1000] justify-center items-center">
      <div class="arcade-panel">
        <div class="scanlines"></div>
        <div class="pause-title">PAUSED</div>
        <div class="pause-menu">
          <button id="sound-toggle" class="arcade-button">
            SOUND ON
          </button>
        </div>
        <div class="pause-controls">
          <div class="control-row">
            <span class="arcade-key">ESC</span>
            <span class="arcade-key">P</span>
            <span class="control-label">RESUME</span>
          </div>
          <div class="control-row">
            <span class="arcade-key">R</span>
            <span class="control-label">RESTART</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Container -->
    <div id="game-container" class="game-container text-center">
      <h1 class="game-title">NIMBORUSH</h1>
      <div id="level-text" class="level-text"></div>
      <div class="canvas-wrapper">
        <div class="scanlines"></div>
        <canvas id="game-canvas"></canvas>
      </div>
      <div class="game-footer">
        <span class="arcade-key-inline">←</span>
        <span class="arcade-key-inline">↑</span>
        <span class="arcade-key-inline">↓</span>
        <span class="arcade-key-inline">→</span>
        <span>MOVE</span>
        <span class="arcade-key-inline">R</span>
        <span>RESTART</span>
        <span class="arcade-key-inline">P</span>
        <span>PAUSE</span>
      </div>
    </div>
    <script type="module" src="/src/index.ts"></script>
  </body>
</html>
